{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/iziToast-settings.js","../src/main.js"],"sourcesContent":["'use strict';\n\nexport default function getPictures(searchQuery) {\n  const API_KEY = '44429729-af770c699ef9a399bd7256131';\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","'use strict';\nexport default function imagesTemplate(data) {\n  return data.hits\n    .map(el => {\n      return ` <li class=\"gallery-item\">\n      <div class=\"thumb\">\n          <a class=\"gallery-link\" href=${el.largeImageURL}>\n            <img class=\"gallery-image\" src=${el.webformatURL} alt=${el.tags} />\n          </a>\n</div>\n          <ul class=\"stat-list\">\n            <li class=\"stat-elem\">\n              <p class=\"stat-elem-name\">Likes</p>\n              <p class=\"stat-elem-score\">${el.likes}</p>\n            </li>\n            <li class=\"stat-elem\">\n              <p class=\"stat-elem-name\">Views</p>\n              <p class=\"stat-elem-score\">${el.views}</p>\n            </li>\n            <li class=\"stat-elem\">\n              <p class=\"stat-elem-name\">Comments</p>\n              <p class=\"stat-elem-score\">${el.comments}</p>\n            </li>\n            <li class=\"stat-elem\">\n              <p class=\"stat-elem-name\">Downloads</p>\n              <p class=\"stat-elem-score\">${el.downloads}</p>\n            </li>\n          </ul>\n        </li>`;\n    })\n    .join('');\n}\n","'use strict';\nexport const iziToastUnsuccessObj = {\n  title: '',\n  message: `Sorry, there are no images matching your search query. Please try again!`,\n  backgroundColor: 'rgb(255, 99, 71)',\n  titleColor: 'rgb(255, 255, 255)',\n  messageColor: 'rgb(255, 255, 255)',\n  messageSize: '16',\n  iconColor: 'rgb(255, 255, 255)',\n  theme: 'dark',\n  progressBarColor: 'rgb(255, 255, 255)',\n  position: 'topRight',\n};\n\nexport const iziToastWarnObj = {\n  title: '',\n  message: 'You forgot to fill in the search field',\n  backgroundColor: 'rgb(255, 165, 0)',\n  messageSize: '16',\n  iconColor: 'rgb(255, 255, 255)',\n  messageColor: 'rgb(255, 255, 255)',\n  theme: 'dark',\n  progressBarColor: 'rgb(255, 255, 255)',\n  position: 'topRight',\n};\n\nexport const iziToastErrorObj = {\n  title: 'Error',\n  message: `Sorry, something went wrong...`,\n  backgroundColor: 'rgb(255, 99, 71)',\n  titleColor: 'rgb(255, 255, 255)',\n  messageColor: 'rgb(255, 255, 255)',\n  messageSize: '16',\n  iconColor: 'rgb(255, 255, 255)',\n  theme: 'dark',\n  progressBarColor: 'rgb(255, 255, 255)',\n  position: 'topRight',\n};\n","import getPictures from './js/pixabay-api';\nimport imagesTemplate from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { iziToastUnsuccessObj } from './js/iziToast-settings';\nimport { iziToastWarnObj } from './js/iziToast-settings';\nimport { iziToastErrorObj } from './js/iziToast-settings';\n\nconst refs = {\n  formElem: document.querySelector('.js-pixabay-form'),\n  pixabayListElem: document.querySelector('.js-pixabay-galery'),\n  loaderContainerElem: document.querySelector('.js-loader-container'),\n};\n\nrefs.formElem.addEventListener('submit', e => {\n  e.preventDefault();\n  refs.pixabayListElem.innerHTML = '';\n  const searchQuery = e.target.elements.query.value;\n  if (searchQuery !== '') {\n    showLoader();\n    getPictures(searchQuery)\n      .then(data => {\n        if (data.hits.length === 0) {\n          iziToast.error(iziToastUnsuccessObj);\n        }\n        const markup = imagesTemplate(data);\n        refs.pixabayListElem.insertAdjacentHTML('afterbegin', markup);\n        let gallery = new SimpleLightbox('.gallery-link', {\n          captionsData: 'alt',\n          captionDelay: 250,\n        });\n        gallery.refresh();\n      })\n      .catch(err => {\n        iziToast.error(iziToastErrorObj);\n      })\n      .finally(() => {\n        hideLoader();\n      });\n  } else {\n    iziToast.warning(iziToastWarnObj);\n  }\n  e.target.reset();\n});\n\nfunction hideLoader() {\n  refs.loaderContainerElem.classList.add('hidden');\n}\nfunction showLoader() {\n  refs.loaderContainerElem.classList.remove('hidden');\n}\n"],"names":["getPictures","searchQuery","API_KEY","BASE_URL","END_POINT","params","url","response","imagesTemplate","data","el","iziToastUnsuccessObj","iziToastWarnObj","iziToastErrorObj","refs","e","showLoader","iziToast","markup","SimpleLightbox","err","hideLoader"],"mappings":"6vBAEe,SAASA,EAAYC,EAAa,CAC/C,MAAMC,EAAU,qCACVC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKK,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCpBe,SAASC,EAAeC,EAAM,CAC3C,OAAOA,EAAK,KACT,IAAIC,GACI;AAAA;AAAA,yCAE4BA,EAAG,aAAa;AAAA,6CACZA,EAAG,YAAY,QAAQA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAMhCA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,2CAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,2CAIRA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,2CAIXA,EAAG,SAAS;AAAA;AAAA;AAAA,cAIlD,EACA,KAAK,EAAE,CACZ,CC9BO,MAAMC,EAAuB,CAClC,MAAO,GACP,QAAS,2EACT,gBAAiB,mBACjB,WAAY,qBACZ,aAAc,qBACd,YAAa,KACb,UAAW,qBACX,MAAO,OACP,iBAAkB,qBAClB,SAAU,UACZ,EAEaC,EAAkB,CAC7B,MAAO,GACP,QAAS,yCACT,gBAAiB,mBACjB,YAAa,KACb,UAAW,qBACX,aAAc,qBACd,MAAO,OACP,iBAAkB,qBAClB,SAAU,UACZ,EAEaC,EAAmB,CAC9B,MAAO,QACP,QAAS,iCACT,gBAAiB,mBACjB,WAAY,qBACZ,aAAc,qBACd,YAAa,KACb,UAAW,qBACX,MAAO,OACP,iBAAkB,qBAClB,SAAU,UACZ,EC3BMC,EAAO,CACX,SAAU,SAAS,cAAc,kBAAkB,EACnD,gBAAiB,SAAS,cAAc,oBAAoB,EAC5D,oBAAqB,SAAS,cAAc,sBAAsB,CACpE,EAEAA,EAAK,SAAS,iBAAiB,SAAUC,GAAK,CAC5CA,EAAE,eAAc,EAChBD,EAAK,gBAAgB,UAAY,GACjC,MAAMb,EAAcc,EAAE,OAAO,SAAS,MAAM,MACxCd,IAAgB,IAClBe,IACAhB,EAAYC,CAAW,EACpB,KAAKQ,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBQ,EAAS,MAAMN,CAAoB,EAErC,MAAMO,EAASV,EAAeC,CAAI,EAClCK,EAAK,gBAAgB,mBAAmB,aAAcI,CAAM,EAC9C,IAAIC,EAAe,gBAAiB,CAChD,aAAc,MACd,aAAc,GACxB,CAAS,EACO,QAAO,CACvB,CAAO,EACA,MAAMC,GAAO,CACZH,EAAS,MAAMJ,CAAgB,CACvC,CAAO,EACA,QAAQ,IAAM,CACbQ,GACR,CAAO,GAEHJ,EAAS,QAAQL,CAAe,EAElCG,EAAE,OAAO,OACX,CAAC,EAED,SAASM,GAAa,CACpBP,EAAK,oBAAoB,UAAU,IAAI,QAAQ,CACjD,CACA,SAASE,GAAa,CACpBF,EAAK,oBAAoB,UAAU,OAAO,QAAQ,CACpD"}