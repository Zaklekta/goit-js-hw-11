{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\nexport default function getPictures(searchQuery) {\n  const API_KEY = '44429729-af770c699ef9a399bd7256131';\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","'use strict';\nexport default function imagesTemplate(data) {\n  return data.hits\n    .map(el => {\n      return ` <li class=\"gallery-item\">\n      <div class=\"thumb\">\n          <a class=\"gallery-link\" href=${el.largeImageURL}>\n            <img class=\"gallery-image\" src=${el.webformatURL} alt=${el.tags} />\n          </a>\n</div>\n          <ul class=\"stat-list\">\n            <li class=\"stat-elem\">\n              <p class=\"stat-elem-name\">Likes</p>\n              <p class=\"stat-elem-score\">${el.likes}</p>\n            </li>\n            <li class=\"stat-elem\">\n              <p class=\"stat-elem-name\">Views</p>\n              <p class=\"stat-elem-score\">${el.views}</p>\n            </li>\n            <li class=\"stat-elem\">\n              <p class=\"stat-elem-name\">Comments</p>\n              <p class=\"stat-elem-score\">${el.comments}</p>\n            </li>\n            <li class=\"stat-elem\">\n              <p class=\"stat-elem-name\">Downloads</p>\n              <p class=\"stat-elem-score\">${el.downloads}</p>\n            </li>\n          </ul>\n        </li>`;\n    })\n    .join('');\n}\n","import getPictures from './js/pixabay-api';\nimport imagesTemplate from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  formElem: document.querySelector('.js-pixabay-form'),\n  pixabayListElem: document.querySelector('.js-pixabay-galery'),\n  loaderContainerElem: document.querySelector('.js-loader-container'),\n};\nconst iziToastObj = {\n  title: '',\n  message: `Sorry, there are no images matching your search query. Please try again!`,\n  backgroundColor: 'rgb(255, 99, 71)',\n  titleColor: 'rgb(255, 255, 255)',\n  messageColor: 'rgb(255, 255, 255)',\n  messageSize: '16',\n  iconColor: 'rgb(255, 255, 255)',\n  theme: 'dark',\n  progressBarColor: 'rgb(255, 255, 255)',\n  position: 'topRight',\n};\n\nrefs.formElem.addEventListener('submit', e => {\n  e.preventDefault();\n  refs.pixabayListElem.innerHTML = '';\n  const searchQuery = e.target.elements.query.value;\n  showLoader();\n  getPictures(searchQuery)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error(iziToastObj);\n      }\n      const markup = imagesTemplate(data);\n      refs.pixabayListElem.insertAdjacentHTML('afterbegin', markup);\n      let gallery = new SimpleLightbox('.gallery-link', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      gallery.refresh();\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n  e.target.reset();\n});\n\nfunction hideLoader() {\n  refs.loaderContainerElem.classList.add('hidden');\n}\nfunction showLoader() {\n  refs.loaderContainerElem.classList.remove('hidden');\n}\n"],"names":["getPictures","searchQuery","API_KEY","BASE_URL","END_POINT","params","url","response","imagesTemplate","data","el","refs","iziToastObj","e","showLoader","iziToast","markup","SimpleLightbox","err","hideLoader"],"mappings":"6vBAEe,SAASA,EAAYC,EAAa,CAC/C,MAAMC,EAAU,qCACVC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKK,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCpBe,SAASC,EAAeC,EAAM,CAC3C,OAAOA,EAAK,KACT,IAAIC,GACI;AAAA;AAAA,yCAE4BA,EAAG,aAAa;AAAA,6CACZA,EAAG,YAAY,QAAQA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAMhCA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,2CAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,2CAIRA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,2CAIXA,EAAG,SAAS;AAAA;AAAA;AAAA,cAIlD,EACA,KAAK,EAAE,CACZ,CCxBA,MAAMC,EAAO,CACX,SAAU,SAAS,cAAc,kBAAkB,EACnD,gBAAiB,SAAS,cAAc,oBAAoB,EAC5D,oBAAqB,SAAS,cAAc,sBAAsB,CACpE,EACMC,EAAc,CAClB,MAAO,GACP,QAAS,2EACT,gBAAiB,mBACjB,WAAY,qBACZ,aAAc,qBACd,YAAa,KACb,UAAW,qBACX,MAAO,OACP,iBAAkB,qBAClB,SAAU,UACZ,EAEAD,EAAK,SAAS,iBAAiB,SAAUE,GAAK,CAC5CA,EAAE,eAAc,EAChBF,EAAK,gBAAgB,UAAY,GACjC,MAAMV,EAAcY,EAAE,OAAO,SAAS,MAAM,MAC5CC,IACAd,EAAYC,CAAW,EACpB,KAAKQ,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBM,EAAS,MAAMH,CAAW,EAE5B,MAAMI,EAASR,EAAeC,CAAI,EAClCE,EAAK,gBAAgB,mBAAmB,aAAcK,CAAM,EAC9C,IAAIC,EAAe,gBAAiB,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,EACO,QAAO,CACrB,CAAK,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACbC,GACN,CAAK,EACHN,EAAE,OAAO,OACX,CAAC,EAED,SAASM,GAAa,CACpBR,EAAK,oBAAoB,UAAU,IAAI,QAAQ,CACjD,CACA,SAASG,GAAa,CACpBH,EAAK,oBAAoB,UAAU,OAAO,QAAQ,CACpD"}